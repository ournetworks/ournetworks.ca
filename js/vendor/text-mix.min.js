// text-mix.min.js - v0.3.0 - 2015-05-10
!function(a,b){"function"==typeof define&&define.amd?define(["levenshtein"],b):"object"==typeof exports?module.exports=b(require("levenshtein")):a.textMix=b(a.Levenshtein)}(this,function(a){"use strict";function b(a,b,c){var d=n(a,b);if(0===d.distance)return a;var e,f=d.getMatrix(),g=f.length-1,m=f[0].length-1,p=b.split("");for(h("traverse",a,b,c),h(d.inspect());c--&&(m||g);){switch(e=o(f,m,g),h(".next","iterations:",c,"startX:",m,"startY:",g),h("..out:",e),m=e[2],g=e[3],e[1]){case i:++c;case j:p[g]=a[m];break;case k:p.splice(g,0,a[m]);break;case l:p.splice(m,1)}h("..ret:",p.join(""))}return p.join("")}function c(a){return a.split("").reverse().join("")}function d(a,b,d){var e,f=a.length+Math.floor((b.length-a.length)*Math.abs(d)),g="";if(0>d){var h=c(a),i=c(b);for(e=0;f>e;e++)g+=p(h,i,e,-d);return c(g)}for(e=0;f>e;e++)g+=p(a,b,e,d);return g}function e(a,b,c){return Math.round(a+(b-a)*c)}function f(a,c,f){for(var h,i,j=q(a),k=q(c),l=Math.max(j.length,k.length),m=[],o=0;l>o;o++)if(h=j[o],i=k[o],g.isNumeric(h)&&g.isNumeric(i))m.push({func:e,a:parseFloat(h),b:parseFloat(i)});else if(h&&h.length&&i&&i.length){var p=n(h,i).distance;m.push(f&&f.rtl?{func:b,a:i,b:h,distance:p,rtl:!0}:{func:b,a:h,b:i,distance:p})}else m.push({func:d,a:h||"",b:i||""});return function(a){return s(m,a)}}var g={isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)}},h=function(){},i="noop",j="sub",k="ins",l="del",m={},n=function(b,c){var d=b+" "+c;return m[d]||(m[d]=new a(b,c)),m[d]},o=function(a,b,c){var d,e=a[c][b],f=b,g=c,h=1/0,m=1/0,n=1/0;c>0&&(m=a[c-1][b]),b>0&&(n=a[c][b-1]),b>0&&c>0&&(h=a[c-1][b-1]);var o=Math.min(m,n,h);return 0===h||o>=h?(f=b-1,g=c-1,e>h?d=j:h===e&&(d=i)):0===n||o>=n?(d=k,f=b-1):(d=l,g=c-1),[o,d,f,g]},p=function(a,b,c,d){var e=Math.max(a.length,b.length);return c>=a.length?b[c]:c>=b.length?a[c]:d*e>c?b[c]:a[c]},q=function(a){return a.split(" ")},r=function(a,c,f,h){for(var i,j,k=q(a),l=q(c),m=Math.max(k.length,l.length),o=[],p=0;m>p;p++)if(i=k[p],j=l[p],g.isNumeric(i)&&g.isNumeric(j))o.push(e(parseFloat(i),parseFloat(j),f));else if(i&&i.length&&j&&j.length){var r=n(i,j).distance;o.push(h&&h.rtl?b(j,i,Math.round(f*r)):b(i,j,r-Math.round(f*r)))}else o.push(d(i||"",j||"",h&&h.rtl?-f:f));return o.join(" ")},s=function(a,b){for(var c,d,e=[],f=0;f<a.length;f++)c=a[f],c.distance?(d=Math.round(b*c.distance),c.rtl||(d=c.distance-d)):d=b,e.push(c.func(c.a,c.b,d));return e.join(" ")};return{traverse:b,stringMix:d,numberMix:e,textMix:r,mix:f}});
